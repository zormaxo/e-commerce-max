"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[915],{6915:(T,m,i)=>{i.r(m),i.d(m,{EntryModule:()=>S});var u=i(6895),g=i(9066),n=i(433),a=i(2965),t=i(1571),c=i(9241),p=i(1146),d=i(4015);let f=(()=>{class e{constructor(r,o,l){this.accountService=r,this.router=o,this.activatedRoute=l,this.cancelRegister=new t.vpe,this.loginForm=new n.cw({email:new n.NI("",[n.kI.required,n.kI.email]),password:new n.NI("",[n.kI.required,n.kI.minLength(4),n.kI.maxLength(8)])}),this.returnUrl=this.activatedRoute.snapshot.queryParams.returnUrl||"/"}onSubmit(){this.accountService.login(this.loginForm.value).subscribe({next:()=>this.router.navigateByUrl(this.returnUrl)})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(p.B),t.Y36(a.F0),t.Y36(a.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],outputs:{cancelRegister:"cancelRegister"},decls:8,vars:7,consts:[[1,"mt-3",3,"formGroup","ngSubmit"],[3,"formControl","label"],[3,"formControl","label","type"],[1,"text-center"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],["routerLink","","type","button",1,"btn","btn-outline-secondary"]],template:function(r,o){1&r&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t._UZ(1,"app-text-input",1)(2,"app-text-input",2),t.TgZ(3,"div",3)(4,"button",4),t._uU(5,"Sign in"),t.qZA(),t.TgZ(6,"button",5),t._uU(7,"Cancel"),t.qZA()()()),2&r&&(t.Q6J("formGroup",o.loginForm),t.xp6(1),t.Q6J("formControl",o.loginForm.controls.email)("label","Email Address"),t.xp6(1),t.Q6J("formControl",o.loginForm.controls.password)("label","Password")("type","password"),t.xp6(2),t.Q6J("disabled",!o.loginForm.valid))},dependencies:[n._Y,n.JJ,n.JL,n.oH,n.sg,a.rH,d.t]}),e})();var h=i(8372),v=i(5698),b=i(3900),y=i(4004),C=i(8746);function F(e,s){if(1&e&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&e){const r=s.$implicit;t.xp6(1),t.hij(" ",r," ")}}function x(e,s){if(1&e&&(t.TgZ(0,"ul",9),t.YNc(1,F,2,1,"li",10),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Q6J("ngForOf",r.errors)}}let J=(()=>{class e{constructor(r,o,l){this.fb=r,this.accountService=o,this.router=l,this.cancelRegister=new t.vpe,this.validationErrors=[],this.errors=null,this.registerForm=this.fb.group({email:["",[n.kI.required,n.kI.email],[this.validateEmailNotTaken()]],firstName:["",n.kI.required],lastName:["",n.kI.required],password:["",[n.kI.required,n.kI.minLength(4),n.kI.maxLength(8)]],confirmPassword:["",[n.kI.required,this.matchValues("password")]]})}ngOnInit(){this.intitializeForm()}intitializeForm(){this.registerForm.controls.password.valueChanges.subscribe({next:()=>this.registerForm.controls.confirmPassword.updateValueAndValidity()})}matchValues(r){return o=>o.value===o.parent?.get(r)?.value?null:{notMatching:!0}}validateEmailNotTaken(){return r=>r.valueChanges.pipe((0,h.b)(1e3),(0,v.q)(1),(0,b.w)(()=>this.accountService.checkEmailExists(r.value).pipe((0,y.U)(o=>o.result?{emailExists:!0}:null),(0,C.x)(()=>r.markAsTouched()))))}onSubmit(){this.accountService.register(this.registerForm.value).subscribe({next:()=>this.router.navigateByUrl("/"),error:r=>this.errors=r.errors})}register(){this.accountService.register(this.registerForm.value).subscribe({next:()=>{this.router.navigateByUrl("/")},error:r=>{this.validationErrors=r}})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(n.qu),t.Y36(p.B),t.Y36(a.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],outputs:{cancelRegister:"cancelRegister"},decls:12,vars:13,consts:[[1,"mt-3",3,"formGroup","ngSubmit"],[3,"formControl","label"],["label","First Name",3,"formControl"],["label","Last Name",3,"formControl"],[3,"formControl","label","type"],["class","text-danger list-unstyled",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],["routerLink","","type","button",1,"btn","btn-outline-secondary"],[1,"text-danger","list-unstyled"],[4,"ngFor","ngForOf"]],template:function(r,o){1&r&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t._UZ(1,"app-text-input",1)(2,"app-text-input",2)(3,"app-text-input",3)(4,"app-text-input",4)(5,"app-text-input",4),t.YNc(6,x,2,1,"ul",5),t.TgZ(7,"div",6)(8,"button",7),t._uU(9,"Sign up"),t.qZA(),t.TgZ(10,"button",8),t._uU(11,"Cancel"),t.qZA()()()),2&r&&(t.Q6J("formGroup",o.registerForm),t.xp6(1),t.Q6J("formControl",o.registerForm.controls.email)("label","Email Address"),t.xp6(1),t.Q6J("formControl",o.registerForm.controls.firstName),t.xp6(1),t.Q6J("formControl",o.registerForm.controls.lastName),t.xp6(1),t.Q6J("formControl",o.registerForm.controls.password)("label","Password")("type","password"),t.xp6(1),t.Q6J("formControl",o.registerForm.controls.confirmPassword)("label","Confirm Password")("type","password"),t.xp6(1),t.Q6J("ngIf",o.errors),t.xp6(2),t.Q6J("disabled",o.registerForm.invalid))},dependencies:[u.sg,u.O5,n._Y,n.JJ,n.JL,n.oH,n.sg,a.rH,d.t]}),e})();const Z=[{path:"",component:(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-entry"]],decls:15,vars:1,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-auto"],["routerLink","",1,"link-dark","text-decoration-none"],[1,"bg-warning","p-2"],[1,"row","justify-content-center","mt-5"],[1,"col-10","col-md-6","col-lg-4"],[1,"card","shadow-lg"],[1,"card-body"],[3,"justified"],["heading","Sign in"],["heading","Sign up"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"h1",4),t._uU(5,"kuyumdan.com"),t.qZA()()()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"tabset",9)(11,"tab",10),t._UZ(12,"app-login"),t.qZA(),t.TgZ(13,"tab",11),t._UZ(14,"app-register"),t.qZA()()()()()()()),2&r&&(t.xp6(10),t.Q6J("justified",!0))},dependencies:[a.rH,c.wW,c.AH,f,J]}),e})()}];let w=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.Bz.forChild(Z),a.Bz]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,n.u5,n.UX,w,g.m]}),e})()}}]);