"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[189],{2189:(Q,h,o)=>{o.r(h),o.d(h,{SemiFinishedModule:()=>J});var d=o(6895),c=o(433),l=o(2965),p=o(6487),m=o(2721),t=o(1571),u=o(5085),g=o(1654),C=o(6241),f=o(6139),y=o(1299),x=o(4808),v=o(2767),Z=o(2942);function P(i,s){if(1&i&&t._UZ(0,"app-breadcrumb",12),2&i){const e=t.oxw();t.Q6J("selectedCategoryId",e.selectedCategory.id)}}function S(i,s){if(1&i&&t._UZ(0,"app-left-nav",13),2&i){const e=t.oxw();t.Q6J("selectedCategory",e.selectedCategory)("allCategories",e.allCategories)}}function F(i,s){if(1&i&&(t.TgZ(0,"tr",21)(1,"td"),t._UZ(2,"img",22),t.qZA(),t.TgZ(3,"td",23)(4,"small"),t._uU(5),t.qZA()(),t.TgZ(6,"td",24)(7,"small"),t._uU(8),t.qZA()(),t.TgZ(9,"td")(10,"small"),t._uU(11),t.qZA()(),t.TgZ(12,"td")(13,"small"),t._uU(14),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"small"),t._uU(17),t.qZA()()()),2&i){const e=s.$implicit;t.MGl("routerLink","/product/",e.id,""),t.xp6(2),t.s9C("src",e.pictureUrl,t.LSH),t.xp6(3),t.Oqu(e.name),t.xp6(3),t.Oqu(e.priceText),t.xp6(3),t.Oqu(e.createdDate),t.xp6(3),t.Oqu(e.county.city.name),t.xp6(3),t.hij(" ",e.county.name,"")}}function T(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"table",15)(2,"thead")(3,"tr"),t._UZ(4,"th",16),t.TgZ(5,"th",17)(6,"small"),t._uU(7,"\u0130lan Ba\u015fl\u0131\u011f\u0131"),t.qZA()(),t.TgZ(8,"th",18),t.NdJ("headerClicked",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.onHeaderClicked(n))}),t.TgZ(9,"small"),t._uU(10,"Fiyat"),t.qZA()(),t.TgZ(11,"th",19),t.NdJ("headerClicked",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.onHeaderClicked(n))}),t.TgZ(12,"small"),t._uU(13,"\u0130lan Tarihi"),t.qZA()(),t.TgZ(14,"th",16)(15,"small"),t._uU(16,"\u0130l / \u0130l\xe7e"),t.qZA()()()(),t.TgZ(17,"tbody"),t.YNc(18,F,18,7,"tr",20),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(18),t.Q6J("ngForOf",e.products)}}function b(i,s){if(1&i&&(t.TgZ(0,"tr",28)(1,"td",29),t._UZ(2,"img",30),t.qZA(),t.TgZ(3,"td",31)(4,"div",32),t._uU(5),t.qZA(),t.TgZ(6,"div",33),t._UZ(7,"i",34),t.TgZ(8,"small"),t._uU(9,"\u0130stanbul / Bah\xe7elievler "),t.qZA()(),t.TgZ(10,"div",35)(11,"small"),t._uU(12),t.qZA()()()()),2&i){const e=s.$implicit;t.xp6(2),t.s9C("src",e.pictureUrl,t.LSH),t.xp6(3),t.hij(" ",e.name," "),t.xp6(7),t.hij("",e.price," TL")}}function I(i,s){if(1&i&&(t.TgZ(0,"div",25)(1,"table",26)(2,"tbody"),t.YNc(3,b,13,3,"tr",27),t.qZA()()()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.products)}}function _(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",36)(1,"app-pager",37),t.NdJ("pageChanged",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.onPageChanged(n))}),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("pageSize",e.shopParams.pageSize)("totalCount",e.totalCount)}}const N=[{path:"",redirectTo:"yari-mamul",pathMatch:"full"},{path:":subcategory",component:(()=>{class i{constructor(e,a,n){this.shopService=e,this.route=a,this.router=n,this.shopParams=new p.E(10),this.currencyType=m.V;const r=this.router.getCurrentNavigation();this.shopParams.search=r?.extras?.state?.searchTerm,this.shopParams.cityId=r?.extras?.state?.cityId??0,this.shopParams.countyId=r?.extras?.state?.countyId??0,(this.shopParams.search||this.shopParams.cityId||this.shopParams.countyId)&&(this.filterShopParams=new p.E,this.shopParams.search&&(this.filterShopParams.search=this.shopParams.search),this.shopParams.cityId&&(this.filterShopParams.cityId=this.shopParams.cityId),this.shopParams.countyId&&(this.filterShopParams.countyId=this.shopParams.countyId)),this.shopService.getCities().subscribe(z=>{this.cities=z,this.shopParams.cityId&&(this.counties=this.cities.find(M=>M.id==this.shopParams.cityId)?.counties)})}ngOnInit(){this.route.params.subscribe(()=>{this.shopParams.categoryName=this.categoryName=this.route.snapshot.url[0].path,this.mainCategoryName=this.route.parent.snapshot.url[0].path,this.getCategoriesThenProducts()})}getCategoriesThenProducts(){this.shopService.getCategories().subscribe(e=>{this.allCategories=e,this.selectedCategory=this.allCategories.find(a=>a.url==this.shopParams.categoryName),this.selectedCategory||this.router.navigateByUrl("/error/notfound"),this.getProducts()})}getProducts(){this.shopService.getMaterialProducts(this.shopParams).subscribe(e=>{this.products=e.data,this.shopParams.pageNumber=e.pageIndex,this.shopParams.pageSize=e.pageSize,this.totalCount=e.totalCount,this.shopService.calculateProductCountsByCategory(this.allCategories,e.categoryGroupCount)})}onPageChanged(e){this.shopParams.pageNumber!==e&&(this.shopParams.pageNumber=e,this.getProducts())}onHeaderClicked(e){this.shopParams.sort=e,this.getProducts()}onRemoveFilterClick(e){this.shopParams=structuredClone(e),this.getProducts()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.d),t.Y36(l.gz),t.Y36(l.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-semi-finished"]],decls:12,vars:12,consts:[[1,"row"],[3,"selectedCategoryId",4,"ngIf"],[1,"d-none","d-sm-block","col-sm-4","col-md-3"],[3,"selectedCategory","allCategories",4,"ngIf"],[3,"categoryName","shopParams"],[1,"col-sm-8","col-md-9"],[3,"filterShopParams","totalCount","removeFilterClicked"],["class","d-none d-md-block",4,"ngIf"],["class","d-md-none",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center","pb-2"],[3,"totalCount","pageSize","pageNumber"],[3,"selectedCategoryId"],[3,"selectedCategory","allCategories"],[1,"d-none","d-md-block"],["aria-label","\xdcr\xfcnler",1,"table","table-sm","table-striped","table-hover","table-bordered","align-middle","sortable",2,"text-align","center"],["scope","col",2,"width","100px"],["scope","col",2,"text-align","start"],["scope","col","appSort","price",2,"width","80px",3,"headerClicked"],["scope","col","appSort","createdDate",2,"width","100px",3,"headerClicked"],["style","line-height: 20px; height: 100px",3,"routerLink",4,"ngFor","ngForOf"],[2,"line-height","20px","height","100px",3,"routerLink"],["alt","...",1,"img-fluid","rounded",2,"max-height","100px",3,"src"],[2,"text-align","start"],[1,"text-nowrap",2,"color","brown"],[1,"d-md-none"],["aria-label","\xdcr\xfcnler","aria-hidden","true",1,"table","table-striped","table-hover","table-bordered","table-sm"],["style","line-height: 20px",4,"ngFor","ngForOf"],[2,"line-height","20px"],[2,"width","100px"],["alt","...",1,"img-fluid","rounded-start",2,"max-height","100px",3,"src"],[2,"position","relative"],[1,"mt-2"],[1,"text-muted",2,"position","absolute","bottom","10px","font-size","14px"],[1,"fa-solid","fa-location-dot","me-2"],[1,"text-primary","fw-bold",2,"position","absolute","bottom","10px","right","5px"],[1,"d-flex","justify-content-center"],[3,"pageSize","totalCount","pageChanged"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,P,1,1,"app-breadcrumb",1),t.TgZ(2,"section",2),t.YNc(3,S,1,2,"app-left-nav",3),t._UZ(4,"app-filter",4),t.qZA(),t.TgZ(5,"section",5)(6,"app-filter-summary",6),t.NdJ("removeFilterClicked",function(r){return a.onRemoveFilterClick(r)}),t.qZA(),t.YNc(7,T,19,1,"div",7),t.YNc(8,I,4,1,"div",8),t.YNc(9,_,2,2,"div",9),t.TgZ(10,"div",10),t._UZ(11,"app-paging-header",11),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",a.selectedCategory),t.xp6(2),t.Q6J("ngIf",a.products),t.xp6(1),t.Q6J("categoryName",a.mainCategoryName)("shopParams",a.shopParams),t.xp6(2),t.Q6J("filterShopParams",a.filterShopParams)("totalCount",a.totalCount),t.xp6(1),t.Q6J("ngIf",a.totalCount>0),t.xp6(1),t.Q6J("ngIf",a.totalCount>0),t.xp6(1),t.Q6J("ngIf",a.totalCount>0),t.xp6(2),t.Q6J("totalCount",a.totalCount)("pageSize",a.shopParams.pageSize)("pageNumber",a.shopParams.pageNumber))},dependencies:[d.sg,d.O5,l.rH,g.U,C.P,f.e,y.L,x.J,v.b,Z.z]}),i})()}];let U=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[l.Bz.forChild(N),l.Bz]}),i})();var A=o(9066);let J=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.ez,c.u5,U,A.m]}),i})()}}]);