"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[80],{1080:(q,u,a)=>{a.r(u),a.d(u,{ShopModule:()=>k});var c=a(6895),p=a(9383),m=a(6099),g=a(5698),t=a(1571),d=a(6674),l=a(5866),h=a(7185);function f(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"img",3),t.qZA(),t.TgZ(3,"div",4)(4,"h3"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"div",5)(10,"i",6),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.decrementQuantity())}),t.qZA(),t.TgZ(11,"span",7),t._uU(12),t.qZA(),t.TgZ(13,"i",8),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.incrementQuantity())}),t.qZA(),t.TgZ(14,"button",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.addItemToBasket())}),t._uU(15,"Add to Cart"),t.qZA()()(),t.TgZ(16,"div",10)(17,"div",11)(18,"h4"),t._uU(19,"Description"),t.qZA(),t.TgZ(20,"p"),t._uU(21),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(2),t.s9C("src",e.getPictureUrl(),t.LSH),t.s9C("alt",e.product.name),t.xp6(3),t.Oqu(e.product.name),t.xp6(2),t.Oqu(t.lcZ(8,6,e.product.price)),t.xp6(5),t.Oqu(e.quantity),t.xp6(9),t.Oqu(e.product.description)}}let v=(()=>{class o{constructor(e,n,r,s){this.shopService=e,this.activatedRoute=n,this.basketService=r,this.toastr=s,this.quantity=1,this.quantityInBasket=0}ngOnInit(){this.loadProduct()}loadProduct(){const e=this.activatedRoute.snapshot.paramMap.get("id");e&&this.shopService.getProduct(+e).pipe((0,m.z)(n=>(this.product=n,this.basketService.basketSource$))).pipe((0,g.q)(1)).subscribe({next:n=>{const r=n?.items.find(s=>s.id===+e);r&&(this.quantity=r.quantity,this.quantityInBasket=r.quantity)}})}getPictureUrl(){return this.product.photos.find(e=>e.isMain).url}addItemToBasket(){this.basketService.addItemToBasket(this.product,this.quantity)}incrementQuantity(){this.quantity++}decrementQuantity(){this.quantity>1&&this.quantity--}updateBasket(){if(this.product)if(this.quantity>this.quantityInBasket){const e=this.quantity-this.quantityInBasket;this.quantityInBasket+=e,this.basketService.addItemToBasket(this.product,e)}else{const e=this.quantityInBasket-this.quantity;this.quantityInBasket-=e,this.basketService.removeItemFromBasket(this.product.id,e)}}get buttonText(){return 0===this.quantityInBasket?"Add to basket":"Update basket"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.d),t.Y36(p.gz),t.Y36(l.v),t.Y36(h._W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-details"]],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-6"],[1,"img-fluid","w-100",2,"max-height","400px","object-fit","contain",3,"src","alt"],[1,"col-4"],[1,"d-flex","justify-content-start","align-items-center"],[1,"fa","fa-minus-circle","text-warning","me-2",2,"cursor","pointer","font-size","2em",3,"click"],[1,"font-weight-bold",2,"font-size","1.5em"],[1,"fa","fa-plus-circle","text-warning","ms-2",2,"cursor","pointer","font-size","2em",3,"click"],[1,"btn","btn-outline-primary","btn-lg","ms-4",3,"click"],[1,"row","mt-5"],[1,"col-12","ml-3"]],template:function(e,n){1&e&&t.YNc(0,f,22,8,"div",0),2&e&&t.Q6J("ngIf",n.product)},dependencies:[c.O5,c.H9]}),o})();var C=a(1654),y=a(6241);function x(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"img",3),t.TgZ(3,"div",4)(4,"button",5),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.addItemToBasket())}),t.qZA(),t.TgZ(5,"button",6),t._uU(6,"View"),t.qZA()()(),t.TgZ(7,"div",7)(8,"a",8)(9,"h6",9),t._uU(10),t.qZA()(),t.TgZ(11,"span",10),t._uU(12),t.ALo(13,"currency"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.s9C("src",e.product.pictureUrl,t.LSH),t.s9C("alt",e.product.name),t.xp6(3),t.MGl("routerLink","/shop/",e.product.id,""),t.xp6(5),t.hij(" ",e.product.name," "),t.xp6(2),t.Oqu(t.lcZ(13,5,e.product.price))}}let b=(()=>{class o{constructor(e){this.basketService=e}addItemToBasket(){this.product&&this.basketService.addItemToBasket(this.product)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.v))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-item"]],inputs:{product:"product"},decls:1,vars:1,consts:[["class","card h-100 shadow-sm",4,"ngIf"],[1,"card","h-100","shadow-sm"],[1,"image","position-relative",2,"cursor","pointer"],[1,"card-img-top","bg-light",2,"height","200px","object-fit","contain",3,"src","alt"],[1,"d-flex","align-items-center","justify-content-center","hover-overlay"],[1,"btn","btn-primary","fa","fa-shopping-cart","me-2",3,"click"],[1,"btn","btn-primary",3,"routerLink"],[1,"card-body","d-flex","flex-column"],["href","",1,"text-decoration-none"],[1,"text-uppercase"],[1,"mb-2"]],template:function(e,n){1&e&&t.YNc(0,x,14,7,"div",0),2&e&&t.Q6J("ngIf",n.product)},dependencies:[c.O5,p.rH,c.H9],styles:[".btn[_ngcontent-%COMP%]{width:30%;height:40px}.image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{opacity:1}.image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{transform:none;opacity:1}.hover-overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(255,255,255,.5);opacity:0;transition:all .5s}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{z-index:1000;transition:all .5s}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{transform:translate(-20px)}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{transform:translate(20px)}"]}),o})();function P(o,i){if(1&o&&(t.TgZ(0,"div",6),t._UZ(1,"app-product-item",7),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("product",e)}}function _(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",8)(1,"app-pager",9),t.NdJ("pageChanged",function(r){t.CHM(e);const s=t.oxw();return t.KtG(s.onPageChanged(r))}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("totalCount",e.totalCount)("pageSize",e.shopParams.pageSize)("pageNumber",e.shopParams.pageNumber)}}const Z=[{path:"",component:(()=>{class o{constructor(e){this.shopService=e,this.products=[],this.totalCount=0,this.shopParams=e.getShopParams()}ngOnInit(){this.getProducts()}getProducts(){this.shopService.getProducts().subscribe({next:e=>{this.products=e.data,this.shopParams.pageNumber=e.pageNumber,this.shopParams.pageSize=e.pageSize,this.totalCount=e.totalCount},error:e=>console.log(e)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.d))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-products"]],decls:6,vars:5,consts:[[1,"container"],[1,"d-flex","justify-content-between","align-items-center","pb-2"],[3,"totalCount","pageNumber","pageSize"],[1,"row","row-cols-5","g-3","mb-4"],["class","col",4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"col"],[3,"product"],[1,"d-flex","justify-content-center"],[3,"totalCount","pageSize","pageNumber","pageChanged"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-paging-header",2),t.qZA(),t.TgZ(3,"div",3),t.YNc(4,P,2,1,"div",4),t.qZA(),t.YNc(5,_,2,3,"div",5),t.qZA()),2&e&&(t.xp6(2),t.Q6J("totalCount",n.totalCount)("pageNumber",n.shopParams.pageNumber)("pageSize",n.shopParams.pageSize),t.xp6(2),t.Q6J("ngForOf",n.products),t.xp6(1),t.Q6J("ngIf",n.totalCount>0))},dependencies:[c.sg,c.O5,C.U,y.P,b],styles:[".list-group-item[_ngcontent-%COMP%]{cursor:pointer;border:none;padding:10px 20px;font-size:1.1em}.list-group-item.active[_ngcontent-%COMP%]{border-radius:10px}.list-group-item[_ngcontent-%COMP%]:not(.active):hover{color:#fff;background-color:#e95420b3;border-radius:10px}"]}),o})()},{path:":id",component:v}];let T=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.Bz.forChild(Z),p.Bz]}),o})();var S=a(9066);let k=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,T,S.m]}),o})()}}]);